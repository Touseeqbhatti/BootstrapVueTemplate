(self.webpackChunk=self.webpackChunk||[]).push([[887],{3811:(t,e,s)=>{"use strict";function a(t){var e=[],s=[],a=t.response.data.message||"The given data was invalid.";e.push(a),t.response.data.errors&&(s=[].concat.apply([],Object.values(t.response.data.errors)),e=e.concat(s)),e.forEach((function(t){Vue.toasted.show(t,{theme:"toasted-primary",position:"top-right",duration:5e3})}))}s.d(e,{w:()=>a})},3025:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var a=s(3645),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,".login-box{background-image:url(/images/login_bg.jpg);background-position:50%;background-repeat:no-repeat;background-size:cover}",""]);const o=r},9170:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>f});var a=s(7757),r=s.n(a),o=s(9669),i=s.n(o),n=s(5678),c=s(3811);function l(t,e,s,a,r,o,i){try{var n=t[o](i),c=n.value}catch(t){return void s(t)}n.done?e(c):Promise.resolve(c).then(a,r)}const u={name:"Login",components:{Nav:n.Z},data:function(){return{email:"",password:"",verificationStatus:!!this.$route.query.verification_status,verificationMessage:"",verificationAlertClasses:{"alert-success":!1,"alert-danger":!1}}},created:function(){"success"===this.$route.query.verification_status?(this.verificationMessage="Your account has been verified. Please log in.",this.verificationAlertClasses["alert-success"]=!0):"error"===this.$route.query.verification_status&&(this.verificationMessage="Your account could not be verified.",this.verificationAlertClasses["alert-danger"]=!0)},methods:{login:function(){var t,e=this;return(t=r().mark((function t(){var s,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i().post("login",{email:e.email,password:e.password});case 3:return s=t.sent,localStorage.setItem("token",s.data.token),i().defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),t.next=8,i().get("user");case 8:a=t.sent,e.$store.dispatch("user",a.data),e.$router.push("/dashboard"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),c.w(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})),function(){var e=this,s=arguments;return new Promise((function(a,r){var o=t.apply(e,s);function i(t){l(o,a,r,i,n,"next",t)}function n(t){l(o,a,r,i,n,"throw",t)}i(void 0)}))})()}}};var d=s(3379),v=s.n(d),p=s(3025),m={insert:"head",singleton:!1};v()(p.Z,m);p.Z.locals;const f=(0,s(1900).Z)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Nav"),t._v(" "),s("div",{staticClass:"container"},[t.verificationStatus?s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-10 col-lg-12 col-md-9"},[s("div",{staticClass:"alert alert-dismissible fade show mt-5",class:t.verificationAlertClasses,attrs:{role:"alert"}},[s("div",[t._v(t._s(t.verificationMessage))]),t._v(" "),t._m(0)])])]):t._e(),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-xl-10 col-lg-12 col-md-9"},[s("div",{staticClass:"card o-hidden border-0 shadow-lg my-5"},[s("div",{staticClass:"card-body p-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 d-none d-lg-block login-box"}),t._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"p-5"},[s("div",{staticClass:"text-center"},[s("h1",{staticClass:"h4 text-gray-900 mb-4"},[t._v("\n                                            "+t._s(t.$t("welcome_back"))+"\n                                        ")])]),t._v(" "),s("form",{staticClass:"user",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-user no-direction",attrs:{type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:t.$t("enter_email_address")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-user no-direction",attrs:{type:"password",id:"exampleInputPassword",placeholder:t.$t("password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"custom-control custom-checkbox small"},[s("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck"}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"}},[t._v(t._s(t.$t("remember_me")))])])]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-user btn-block text-nowrap",attrs:{type:"submit"}},[t._v("\n                                            "+t._s(t.$t("login"))+"\n                                        ")])])])])])])])])])])],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],!1,null,null,null).exports}}]);